mdp

module alley

	// define grid
	r:[1..10] init 2;	// grid row
	c:[1..10] init 1;	// grid colunm

	// stop when reaching the destination
	[stop] (r=10 & c=6) -> true;

	// transitions
	[move_east] ((r = 1 & c = 1) | (r = 1 & c = 2) | (r = 1 & c = 4) | (r = 1 & c = 6) | (r = 1 & c = 8) | (r = 2 & c = 2) | (r = 2 & c = 3) | (r = 2 & c = 4) | (r = 2 & c = 5) | (r = 2 & c = 7) | (r = 2 & c = 8) | (r = 2 & c = 9) | (r = 3 & c = 1) | (r = 3 & c = 2) | (r = 3 & c = 5) | (r = 3 & c = 7) | (r = 3 & c = 9) | (r = 4 & c = 1) | (r = 4 & c = 3) | (r = 4 & c = 4) | (r = 4 & c = 5) | (r = 4 & c = 7) | (r = 5 & c = 1) | (r = 5 & c = 2) | (r = 5 & c = 6) | (r = 5 & c = 8) | (r = 6 & c = 1) | (r = 6 & c = 2) | (r = 6 & c = 3) | (r = 6 & c = 5) | (r = 7 & c = 1) | (r = 7 & c = 2) | (r = 7 & c = 5) | (r = 7 & c = 7) | (r = 7 & c = 8) | (r = 8 & c = 1) | (r = 8 & c = 6) | (r = 8 & c = 8) | (r = 8 & c = 9) | (r = 9 & c = 1) | (r = 9 & c = 4) | (r = 9 & c = 6) | (r = 9 & c = 8) | (r = 10 & c = 1) | (r = 10 & c = 2) | (r = 10 & c = 3) | (r = 10 & c = 8) | (r = 10 & c = 9)) -> (c' = c+1);
	[move_west] ((r = 1 & c = 3) | (r = 1 & c = 4) | (r = 1 & c = 5) | (r = 1 & c = 8) | (r = 1 & c = 9) | (r = 1 & c = 10) | (r = 2 & c = 2) | (r = 2 & c = 3) | (r = 2 & c = 4) | (r = 2 & c = 6) | (r = 2 & c = 7) | (r = 2 & c = 8) | (r = 2 & c = 10) | (r = 3 & c = 2) | (r = 3 & c = 4) | (r = 3 & c = 5) | (r = 3 & c = 6) | (r = 3 & c = 7) | (r = 3 & c = 8) | (r = 4 & c = 4) | (r = 4 & c = 7) | (r = 4 & c = 9) | (r = 4 & c = 10) | (r = 5 & c = 2) | (r = 5 & c = 3) | (r = 5 & c = 5) | (r = 5 & c = 8) | (r = 6 & c = 3) | (r = 6 & c = 5) | (r = 6 & c = 6) | (r = 6 & c = 7) | (r = 6 & c = 9) | (r = 6 & c = 10) | (r = 7 & c = 2) | (r = 7 & c = 3) | (r = 7 & c = 7) | (r = 8 & c = 2) | (r = 8 & c = 3) | (r = 8 & c = 5) | (r = 8 & c = 6) | (r = 8 & c = 8) | (r = 9 & c = 4) | (r = 10 & c = 2) | (r = 10 & c = 4) | (r = 10 & c = 5) | (r = 10 & c = 7) | (r = 10 & c = 9)) -> (c' = c-1);
	[move_north] ((r = 2 & c = 2) | (r = 2 & c = 3) | (r = 2 & c = 4) | (r = 2 & c = 5) | (r = 2 & c = 9) | (r = 2 & c = 10) | (r = 3 & c = 1) | (r = 3 & c = 2) | (r = 3 & c = 5) | (r = 3 & c = 7) | (r = 3 & c = 8) | (r = 3 & c = 9) | (r = 4 & c = 1) | (r = 4 & c = 7) | (r = 4 & c = 8) | (r = 4 & c = 9) | (r = 5 & c = 1) | (r = 5 & c = 2) | (r = 5 & c = 6) | (r = 5 & c = 7) | (r = 5 & c = 8) | (r = 6 & c = 1) | (r = 6 & c = 3) | (r = 6 & c = 5) | (r = 6 & c = 6) | (r = 6 & c = 10) | (r = 7 & c = 1) | (r = 7 & c = 2) | (r = 7 & c = 4) | (r = 7 & c = 7) | (r = 7 & c = 8) | (r = 8 & c = 2) | (r = 8 & c = 5) | (r = 8 & c = 8) | (r = 9 & c = 1) | (r = 9 & c = 4) | (r = 9 & c = 6) | (r = 9 & c = 7) | (r = 10 & c = 2) | (r = 10 & c = 6) | (r = 10 & c = 7) | (r = 10 & c = 9)) -> (r' = r-1);
	[move_south] ((r = 1 & c = 1) | (r = 1 & c = 3) | (r = 1 & c = 4) | (r = 1 & c = 9) | (r = 1 & c = 10) | (r = 2 & c = 2) | (r = 2 & c = 3) | (r = 2 & c = 4) | (r = 2 & c = 6) | (r = 2 & c = 8) | (r = 2 & c = 9) | (r = 2 & c = 10) | (r = 3 & c = 1) | (r = 3 & c = 2) | (r = 3 & c = 5) | (r = 3 & c = 7) | (r = 4 & c = 1) | (r = 4 & c = 2) | (r = 4 & c = 3) | (r = 4 & c = 5) | (r = 4 & c = 6) | (r = 4 & c = 7) | (r = 4 & c = 8) | (r = 4 & c = 9) | (r = 4 & c = 10) | (r = 5 & c = 3) | (r = 5 & c = 4) | (r = 5 & c = 5) | (r = 5 & c = 6) | (r = 5 & c = 8) | (r = 5 & c = 10) | (r = 6 & c = 1) | (r = 6 & c = 3) | (r = 6 & c = 5) | (r = 6 & c = 6) | (r = 6 & c = 8) | (r = 6 & c = 9) | (r = 6 & c = 10) | (r = 7 & c = 1) | (r = 7 & c = 2) | (r = 7 & c = 3) | (r = 7 & c = 5) | (r = 7 & c = 7) | (r = 7 & c = 10) | (r = 8 & c = 1) | (r = 8 & c = 2) | (r = 8 & c = 3) | (r = 8 & c = 6) | (r = 8 & c = 10) | (r = 9 & c = 1) | (r = 9 & c = 4) | (r = 9 & c = 5) | (r = 9 & c = 6) | (r = 9 & c = 8)) -> (r' = r+1);

endmodule

// label info states
label "destination" = (r=10 & c=6);
label "deadend" = (r=1 & c=7) | (r=2 & c=1) | (r=3 & c=3) | (r=3 & c=10) | (r=5 & c=9) | (r=6 & c=4) | (r=7 & c=6) | (r=7 & c=9) | (r=8 & c=4) | (r=8 & c=7) | (r=9 & c=2) | (r=9 & c=3) | (r=9 & c=9) | (r=9 & c=10) | (r=10 & c=10);

// transition rewards: count the total steps taken in one route
rewards "total_step"
	[move_north] true : 1;
	[move_south] true : 1;
	[move_west] true : 1;
	[move_east] true : 1;
	[stop] true : 0;
endrewards
